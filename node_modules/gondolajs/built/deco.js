"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const reporter_1=require("./reporter"),statistic_1=require("./statistics/statistic");let gStepId=0;function action(e,...t){const r=e;return(e,t,o)=>{const n=o.value,i=e.constructor.name+"."+t;o.value=function(...e){const t=gStepId++;let o="";reporter_1.logKeyword(t,reporter_1.KeyWordStep.Start,r,e,i,o);const c=new Date,s=n.apply(this,e);if(isPromise(s))s.then=overrideThen(s.then.bind(s),()=>{const n=new Date;o=n.getTime()-c.getTime(),reporter_1.logKeyword(t,reporter_1.KeyWordStep.Update,r,e,i,o),reporter_1.logKeyword(t,reporter_1.KeyWordStep.End,r,e,i,o)});else{const n=new Date;o=n.getTime()-c.getTime(),reporter_1.logKeyword(t,reporter_1.KeyWordStep.Update,r,e,i,o),reporter_1.logKeyword(t,reporter_1.KeyWordStep.End,r,e,i,o)}return statistic_1.GStatistics.getInstance().getActionCounter().addOnce(n.name),s}}}function page(e){}function arg(...e){return(e,t,r)=>{}}function locator(e,t){}function actions(e){}function isPromise(e){return"object"==typeof e&&"function"==typeof e.then}function overrideThen(e,t){const r=e;return(...e)=>(t(),r(...e))}exports.action=action,exports.page=page,exports.arg=arg,exports.locator=locator,exports.actions=actions;
//# sourceMappingURL=../debug/deco.js.map
